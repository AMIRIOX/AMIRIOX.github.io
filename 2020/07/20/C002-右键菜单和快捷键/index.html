<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>C002-右键菜单和快捷键 | amiriox&#39;s repository | No sacrifice, no victory.</title>

  
  <meta name="author" content="Amiriox Flow">
  

  
  <meta name="description" content="amiriox&#39;s blog&#39;&#39;">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="C002-右键菜单和快捷键"/>

  <meta property="og:site_name" content="amiriox&#39;s repository"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="amiriox&#39;s repository" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">amiriox&#39;s repository</a>
    </h1>
    <p class="site-description">No sacrifice, no victory.</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>C002-右键菜单和快捷键</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/07/20/C002-右键菜单和快捷键/" rel="bookmark">
        <time class="entry-date published" datetime="2020-07-20T04:36:03.950Z">
          2020-07-20
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h1><p>主要借助右键菜单和快捷键讲解一下<code>package.json</code>. <del>没错我就是标题党</del></p>
<h1 id="添加右键菜单和快捷键"><a href="#添加右键菜单和快捷键" class="headerlink" title="添加右键菜单和快捷键"></a>添加右键菜单和快捷键</h1><p>我们在<code>package.json</code>中找到<code>contributes</code>,<br>然后可以看到</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">"contributes": &#123;</span><br><span class="line">    "commands": [</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="attr">"command"</span>: <span class="string">"extension.sayHello"</span>,</span><br><span class="line">               <span class="attr">"title"</span>: <span class="string">"Hello World"</span></span><br><span class="line">           &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们在<code>command</code>数组的后面加一个<code>,</code>(英文逗号)<br>然后写如下代码</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">"contributes": &#123;</span><br><span class="line">    "commands": [</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="attr">"command"</span>: <span class="string">"extension.sayHello"</span>,</span><br><span class="line">               <span class="attr">"title"</span>: <span class="string">"Hello World"</span></span><br><span class="line">           &#125;</span><br><span class="line">    ],</span><br><span class="line">     <span class="comment">//这个keybindings数组就是快捷键绑定了</span></span><br><span class="line">    "keybindings": [</span><br><span class="line">         &#123;</span><br><span class="line">              <span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>, <span class="comment">//要绑定的命令名字</span></span><br><span class="line">              <span class="attr">"key"</span>: <span class="string">"ctrl+f10"</span>,    <span class="comment">//按下ctrl f10时执行name.helloworl命令</span></span><br><span class="line">              <span class="attr">"mac"</span>: <span class="string">"cmd+f10"</span>,   <span class="comment">//mac下快捷键 (mac os x的ctrl键叫cmd键</span></span><br><span class="line">              <span class="attr">"when"</span>: <span class="string">"editorFocus"</span>   <span class="comment">//什么时候,editor focus 即编辑器获得焦点 也就是光标在编辑器上</span></span><br><span class="line">         &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//菜单</span></span><br><span class="line">    "menus": &#123; //注意这里不是[而是&#123;了,表示不是数组而是对象</span><br><span class="line">          "editor/context":[</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">"when"</span>: <span class="string">"editorFocus"</span>,                  <span class="comment">//同上</span></span><br><span class="line">                   <span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>,        <span class="comment">//右键菜单命令</span></span><br><span class="line">                   <span class="attr">"group"</span>: <span class="string">"navigation"</span>                   <span class="comment">//显示位置,"navigation"是最上面</span></span><br><span class="line">               &#125;</span><br><span class="line">           ]</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请手写一遍而不是复制粘贴,加深印象</strong><br>可以照着写,单词不用死记硬背,vscode有自动补全和提示.<br>另外 标准json不支持注释,写的时候不要加上注释.<br><img src="../../../../%60warming%60%E5%8D%B7%E4%B8%80/%E4%B8%8A/2020_2/%E7%BC%96%E7%A8%8B%E6%97%A5%E8%AE%B0/images/Y1j5zF.png" alt="Y1j5zF.png"><br>这样我们就能看到右键菜单了,点击hello world命令或ctrl+f10<br><img src="../../../../%60warming%60%E5%8D%B7%E4%B8%80/%E4%B8%8A/2020_2/%E7%BC%96%E7%A8%8B%E6%97%A5%E8%AE%B0/images/Y1vpsH.png" alt="Y1vpsH.png"><br>great.</p>
<h1 id="packag-json详细分析"><a href="#packag-json详细分析" class="headerlink" title="packag.json详细分析"></a>packag.json详细分析</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"name"</span>: <span class="string">"name"</span>,                    <span class="comment">//扩展的名字  全部小写 没有空格</span></span><br><span class="line">	<span class="attr">"displayName"</span>: <span class="string">"name"</span>,             <span class="comment">//"友好的"显示名称,显示在vscode应用市场 可以中文</span></span><br><span class="line">	<span class="attr">"description"</span>: <span class="string">"描述 可以中文"</span>,     <span class="comment">//插件描述 建议写的丰富一点 可以中文</span></span><br><span class="line">        <span class="attr">"keywords"</span>: [<span class="string">"vscode"</span>, <span class="string">"plugin"</span>, <span class="string">"helloworld"</span>],   <span class="comment">//自动生成没有 手动添加  关键词,用于在vscode应用市场搜索</span></span><br><span class="line">	<span class="attr">"version"</span>: <span class="string">"0.1.1"</span>,                            <span class="comment">//版本号</span></span><br><span class="line">         <span class="attr">"publisher"</span>: <span class="string">"airx"</span>,                           <span class="comment">//发布者 请与发布者一致</span></span><br><span class="line">	<span class="attr">"engines"</span>: &#123;                                     <span class="comment">//支持的最低vscode版本</span></span><br><span class="line">		<span class="attr">"vscode"</span>: <span class="string">"^1.45.0"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">"categories"</span>: [                      <span class="comment">//应用分类,稍后详解</span></span><br><span class="line">		<span class="string">"Other"</span></span><br><span class="line">	],</span><br><span class="line">        <span class="attr">"icon"</span>: <span class="string">"images/icon.png"</span>,           <span class="comment">//应用图标</span></span><br><span class="line">	<span class="attr">"activationEvents"</span>: [                    <span class="comment">//表示插件会被哪些命令激活</span></span><br><span class="line">		<span class="string">"onCommand:name.helloWorld"</span></span><br><span class="line">	],</span><br><span class="line">	<span class="attr">"main"</span>: <span class="string">"./extension.js"</span>,       <span class="comment">//入口</span></span><br><span class="line">         <span class="comment">//主要的插件配置项 据说叫贡献点 是个鬼畜名字</span></span><br><span class="line">	<span class="attr">"contributes"</span>: &#123;</span><br><span class="line">                 <span class="comment">//插件设置,也就是在vscode设置中你的插件的设置项</span></span><br><span class="line">                <span class="attr">"configuration"</span>: &#123;</span><br><span class="line">                        <span class="attr">"type"</span>: <span class="string">"object"</span>,</span><br><span class="line">			     <span class="comment">// 设置页面的配置项标题</span></span><br><span class="line">                          <span class="attr">"title"</span>: <span class="string">"helloworld插件设置"</span>,</span><br><span class="line">                           <span class="attr">"properties"</span>: &#123;</span><br><span class="line">                                   <span class="attr">"name.name"</span>: &#123;</span><br><span class="line">                                        <span class="attr">"type"</span>: <span class="string">"string"</span>,     <span class="comment">//数据类型,string即字符串</span></span><br><span class="line">                                        <span class="attr">"default"</span>: <span class="string">"NoName"</span>,   <span class="comment">//默认是什么</span></span><br><span class="line">                                        <span class="attr">"description"</span>: <span class="string">"写你的名字"</span>   <span class="comment">//描述</span></span><br><span class="line">                                    &#125;,</span><br><span class="line">                                     <span class="attr">"name.isYoungLady "</span>: &#123;   <span class="comment">//是小姐姐吗 (大雾</span></span><br><span class="line">                                         <span class="attr">"type"</span>: <span class="string">"boolean"</span>,         <span class="comment">//数据类型: boolean,布尔值(真/假,对/错)</span></span><br><span class="line">                                         <span class="attr">"default"</span>: <span class="literal">true</span>,       <span class="comment">//默认是小姐姐 (大雾  为真(true),假则是false</span></span><br><span class="line">                                         <span class="attr">"description"</span>: <span class="string">"是小姐姐吗"</span></span><br><span class="line">                                    &#125;</span><br><span class="line">                           &#125;</span><br><span class="line">                  &#125;,          </span><br><span class="line">                 <span class="comment">//命令描述</span></span><br><span class="line">		<span class="attr">"commands"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>,</span><br><span class="line">				<span class="attr">"title"</span>: <span class="string">"Hello World"</span></span><br><span class="line">			&#125;</span><br><span class="line">		],</span><br><span class="line">                  <span class="comment">//之前说过了</span></span><br><span class="line">		<span class="attr">"keybindings"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>,</span><br><span class="line">				<span class="attr">"key"</span>: <span class="string">"ctrl+f10"</span>,</span><br><span class="line">				<span class="attr">"mac"</span>: <span class="string">"cmd+f10"</span>,</span><br><span class="line">				<span class="attr">"when"</span>: <span class="string">"editorFocus"</span></span><br><span class="line">			&#125;</span><br><span class="line">		],</span><br><span class="line">                 <span class="comment">//说过</span></span><br><span class="line">		<span class="attr">"menus"</span>: &#123;</span><br><span class="line">			<span class="attr">"editor/context"</span>: [     <span class="comment">//这里一会会详细讲一下</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="attr">"when"</span>: <span class="string">"editorFocus"</span>,</span><br><span class="line">					<span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>,</span><br><span class="line">					<span class="attr">"group"</span>: <span class="string">"navigation"</span></span><br><span class="line">				&#125;</span><br><span class="line">			]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">        <span class="attr">"editor/title"</span>: [      <span class="comment">//编辑器右上角图标/文字</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"when"</span>: <span class="string">"editorFocus &amp;&amp; resourceLangId == javascript"</span>,  <span class="comment">//当编辑器具有焦点,打开文件为js文件时</span></span><br><span class="line">                    <span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>,  <span class="comment">//显示命令name.helloworld (在右键菜单中)</span></span><br><span class="line">                    <span class="attr">"group"</span>: <span class="string">"navigation@2"</span>          <span class="comment">//位置在最上层分组的第2个</span></span><br><span class="line">                &#125;</span><br><span class="line">        ],</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 编辑器标题右键菜单</span></span><br><span class="line">        <span class="attr">"editor/title/context"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"when"</span>: <span class="string">"resourceLangId == javascript"</span>,</span><br><span class="line">                    <span class="attr">"command"</span>: <span class="string">"extension.demo.testMenuShow"</span>,</span><br><span class="line">                    <span class="attr">"group"</span>: <span class="string">"navigation"</span></span><br><span class="line">                &#125;</span><br><span class="line">        ],</span><br><span class="line">             <span class="comment">//左边栏文件管理右键菜单</span></span><br><span class="line">            <span class="attr">"explorer/context"</span>: [</span><br><span class="line">                &#123;  <span class="comment">//该咋写咋写</span></span><br><span class="line">                    <span class="attr">"command"</span>: <span class="string">"name.helloWorld"</span>,</span><br><span class="line">                    <span class="attr">"group"</span>: <span class="string">"navigation"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">         <span class="comment">// activitybar图标，就是最左边那个栏的几个图标</span></span><br><span class="line">        "viewsContainers": &#123;</span><br><span class="line">            "activitybar": [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"id"</span>: <span class="string">"nameid"</span>,            <span class="comment">//id</span></span><br><span class="line">                    <span class="attr">"title"</span>: <span class="string">"标题"</span>,            <span class="comment">//标题</span></span><br><span class="line">                    <span class="attr">"icon"</span>: <span class="string">"images/zc_icon.svg"</span>  <span class="comment">//icon (图标,推荐svg)</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">           <span class="comment">//暂时忽略</span></span><br><span class="line">	"scripts": &#123;</span><br><span class="line">		"lint": "eslint .",</span><br><span class="line">		"pretest": "npm run lint",</span><br><span class="line">		"test": "node ./test/runTest.js"</span><br><span class="line">	&#125;,</span><br><span class="line">         <span class="comment">//开发依赖: bscode eslint等</span></span><br><span class="line">	"devDependencies": &#123;</span><br><span class="line">		"@types/vscode": "^1.45.0",</span><br><span class="line">		"@types/glob": "^7.1.1",</span><br><span class="line">		"@types/mocha": "^7.0.2",</span><br><span class="line">		"@types/node": "^13.11.0",</span><br><span class="line">		"eslint": "^6.8.0",</span><br><span class="line">		"glob": "^7.1.6",</span><br><span class="line">		"mocha": "^7.1.2",</span><br><span class="line">		"typescript": "^3.8.3",</span><br><span class="line">		"vscode-test": "^1.3.0"</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="../../../../%60warming%60%E5%8D%B7%E4%B8%80/%E4%B8%8A/2020_2/%E7%BC%96%E7%A8%8B%E6%97%A5%E8%AE%B0/images/Y3pIbQ.png" alt="Y3pIbQ.png"><br><img src="../../../../%60warming%60%E5%8D%B7%E4%B8%80/%E4%B8%8A/2020_2/%E7%BC%96%E7%A8%8B%E6%97%A5%E8%AE%B0/images/Y39aIs.png" alt="Y39aIs.png"></p>
<h1 id="待更"><a href="#待更" class="headerlink" title="待更"></a>待更</h1>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2020 Amiriox Flow
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>